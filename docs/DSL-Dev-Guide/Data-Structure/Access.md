# Access

By default, there is the `Admin` access group declared. This means that the user will have full access to everything. In a workspace, there must be at least one user with `Admin` permissions. An access group can grant access to the user. If a user does not have any access groups, he will have no permissions.

```dsl
role Accountant {
    entity Company = readWrite
    entity Product = readOnly
}
```

In the example, we created a new access group and granted a full access to the Company entity and a read only access to Product. You can declare a menu for the access group. If the menu is omitted, it will be autogenerated with items to the entities, traits and reports available for this role.

```dsl
role Accountant {
    entity Invoice = readWrite
    entity Company = readWrite
    entity Product = readOnly
    impl view menu = y {
        menu ("Documents") {
            entity Invoice
        }
        menu ("Other Entities") {
            entity Company
            entity Product
        }
    }
}
```

In this example the menu is created explicitly.

```dsl
role Accountant {
    entity Product {
        read = true
        write = type == Service
    }
}
```

In this example, we provided custom conditions. This means that a user will be able to read all products but save or delete only if the product's type is `Service`.

```dsl
role Accountant {
    entity Product {
        read = type == Service
        write = old.isEmpty || new.isEmpty || new?.type == old?.type
    }
}
```

You can access both old and new instances of the entity with `write` modifier. They are optional instances. If user adds a new item, old will be empty. If user deletes an item, new will be empty. If user updates an item, both of them will be filled.

In the example, a user will be able to create and delete items and will be able to modify only if the type field is unmodified.

You can get the current user and compare it in access groups.

```dsl
entity Document {
    field owner: User = Current
}

role OnlyOwners {
    entity Document {
        read = owner.isCurrent
        write = owner.isCurrent
    }
}
```

In the example, the `owner` field will be assigned by default to the current user. The access group will grant access to the items where the owner is the current user.
